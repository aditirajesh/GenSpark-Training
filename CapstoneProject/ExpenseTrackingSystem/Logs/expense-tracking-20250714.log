[2025-07-14 12:42:31.690 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.794 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.941 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:31.943 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/GenSpark-Training/CapstoneProject/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.654 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.708 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.780 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 84.4694 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000001","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.803 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 150.8765ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:37.824 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KN82SB4R:00000001","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.793 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.796 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 1.9065 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000002","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.797 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 4.4147ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:40.798 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KN82SB4R:00000002","RequestPath":"/","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:41.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:42.140 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 210.5070 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000003","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:42.141 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 212.8307ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.742 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.750 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.761 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.785 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.957 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:42:59.961 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:00.896 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.026 +05:30 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database '' on server 'tcp://localhost port=5432 dbname=ExpenseDatabase user=postgres password=magratna1970* connect_timeout=10 sslmode=prefer:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.044 +05:30 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ExpenseTrackingSystem.Contexts.ExpenseContext'.
System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): nodename nor servname provided, or not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.046 +05:30 ERR] ExpenseTrackingSystem.Controllers.AuthController: Unexpected error during login for user testuser@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.052 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.057 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 1267.0204ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.058 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.060 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 400 in 1312.9915 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000004","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:01.069 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null text/plain; charset=utf-8 1326.4928ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.988 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 67 {"EventId":{"Id":1},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.991 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.991 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.992 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.997 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testadmin@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:28.998 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testadmin@example.com {"RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.024 +05:30 ERR] Microsoft.EntityFrameworkCore.Database.Connection: An error occurred using the connection to database '' on server 'tcp://localhost port=5432 dbname=ExpenseDatabase user=postgres password=magratna1970* connect_timeout=10 sslmode=prefer:5432'. {"EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.027 +05:30 ERR] Microsoft.EntityFrameworkCore.Query: An exception occurred while iterating over the results of a query for context type 'ExpenseTrackingSystem.Contexts.ExpenseContext'.
System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): nodename nor servname provided, or not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.028 +05:30 ERR] ExpenseTrackingSystem.Controllers.AuthController: Unexpected error during login for user testadmin@example.com from IP ::1 {"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.030 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"98629abc-40c1-45d8-969e-aed13dbe6d6a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.031 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 38.4513ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.032 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.032 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 400 in 41.8120 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":67,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KN82SB4R:00000005","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:43:29.033 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null text/plain; charset=utf-8 45.2628ms {"EventId":{"Id":2},"RequestId":"0HNE2KN82SB4R:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KN82SB4R","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:16.222 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.131 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.218 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.302 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:21.304 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/GenSpark-Training/CapstoneProject/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.627 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.739 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 82.2954 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000001","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.754 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 128.3258ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.806 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.998 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 189.8071 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000002","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:26.998 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.6866ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.017 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 66 {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.024 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.026 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.074 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.095 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.257 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:42.261 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.141 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.463 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (59ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.991 +05:30 WRN] ExpenseTrackingSystem.Services.AuthenticationService: Login failed: Invalid password for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.993 +05:30 WRN] ExpenseTrackingSystem.Controllers.AuthController: Login failed for user testuser@example.com - invalid password: Invalid password {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:43.999 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.005 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 1905.4373ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.006 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.008 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 401 in 1987.9504 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":66,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000003","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:44.016 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null text/plain; charset=utf-8 1999.3197ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.961 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.964 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.966 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.971 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.971 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:46.994 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.453 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.463 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T07:16:47.3416650+00:00" {"RemoteIP":"::1","ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.464 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.465 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"417627fc-5319-4837-bfc1-b61f0f6240d5","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.471 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 502.7367ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.471 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.472 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 508.0169 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KPCC5K3L:00000004","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:46:47.473 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 511.4656ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.536 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.594 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.601 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.618 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user testuser@example.com (Page: 1, Size: 10) {"TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.621 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 10) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.734 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.758 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 10 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.760 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.761 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 10 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.762 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.764 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.765 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.766 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.766 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.767 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 10 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.768 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"57dbe2bf-8df9-45e6-8720-81b0842b22ff","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.807 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 205.8808ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.808 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.808 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 270.9605 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KPCC5K3L:00000005","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:09.809 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 273.0935ms {"EventId":{"Id":2},"RequestId":"0HNE2KPCC5K3L:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KPCC5K3L","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:47:16.120 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:32.762 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:32.902 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.006 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.008 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.009 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:33.009 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.504 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.580 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.648 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 89.3555 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBR:00000001","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.669 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 167.9838ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:37.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2KS8USIBR:00000001","RequestPath":"/","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.619 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.826 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 205.2968 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBR:00000002","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:51:41.827 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.2257ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.450 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.533 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.561 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.752 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user testuser@example.com (Page: 1, Size: 10) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:07.756 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 10) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:08.989 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.190 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 10 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.191 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.192 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 10 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.192 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.193 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.194 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.194 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.195 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.195 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.198 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 10 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.207 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.257 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 1691.5958ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.258 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.261 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 1806.8527 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBR:00000003","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:09.274 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 1823.7744ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.473 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.480 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllReceipts", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Receipt]]] GetAllReceipts(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.495 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt search with criteria: Name=null, Category=null, DateRange=None {"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.578 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
ORDER BY r."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.583 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Search completed, returning 6 receipts out of 6 total {"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.584 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.Receipt, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"018d43a9-36ea-4656-88da-da9b1e850a81","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.587 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem) in 97.5624ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.588 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.GetAllReceipts (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.589 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/all responded 200 in 113.0394 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBR:00000004","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:52:56.590 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/all?username=testuser%40example.com&pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 116.1151ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBR:00000004","RequestPath":"/api/receipts/all","ConnectionId":"0HNE2KS8USIBR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.031 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.037 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.043 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.053 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.198 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.201 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.203 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.204 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 160.377ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.205 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.205 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 170.4390 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBS:00000001","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:53:51.206 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 174.8203ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBS:00000001","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.402 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.405 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.407 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 3.1835 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000001","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.408 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 6.4446ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000001","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.410 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.411 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.415 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.415 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.417 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.420 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.421 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 401 in 9.7195 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000002","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:09.423 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 401 0 null 12.7075ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000002","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.557 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.558 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.559 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/ponmalar@gmail.com responded 204 in 1.0872 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000003","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.561 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/ponmalar@gmail.com - 204 null null 3.6083ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000003","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.564 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/ponmalar@gmail.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.568 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.570 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.570 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.571 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.572 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.577 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/ponmalar@gmail.com responded 401 in 8.9544 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000004","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:15.579 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/ponmalar@gmail.com - 401 0 null 14.7743ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000004","RequestPath":"/api/users/get/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.524 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.525 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.9535 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000005","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 2.9855ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000005","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.530 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.533 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.535 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Failed to validate the token. {"EventId":{"Id":1,"Name":"TokenValidationFailed"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.536 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'j3rFqMnYJZg4nKJdkMgy5UZWMNuPjZensaGEHYpwQEI'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details. {"EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.537 +05:30 INF] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin) {"EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.537 +05:30 INF] Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler: AuthenticationScheme: Bearer was challenged. {"EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.538 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 401 in 5.0239 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000006","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:56:16.539 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 401 0 null 8.8272ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000006","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.686 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.688 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.688 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.8097 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000007","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.689 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.9949ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000007","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.692 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.694 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.695 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.701 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.725 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.728 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.772 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:02.828 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.321 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.331 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T07:27:03.1992940+00:00" {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.332 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.333 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.335 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 633.3138ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.337 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.337 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 643.2518 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":61,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000008","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.338 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 646.371ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000008","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.413 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.414 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.415 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5120 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000009","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 1.8247ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.417 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.421 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.423 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.425 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.425 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.426 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.6610 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000001","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.429 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.8741ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.430 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.438 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.439 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.439 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.441 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.443 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.447 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.451 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.454 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.460 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.510 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (41ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.545 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.547 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.559 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.559 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.560 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.561 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.564 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.565 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.568 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.569 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.570 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.574 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.576 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.576 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 4 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.577 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.578 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 4 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.579 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.581 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 133.7565ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.582 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.583 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 143.4589 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000002","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.583 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 151.9135ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.584 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 145.6466ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.585 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.587 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 165.1746 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:03.588 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 171.1076ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.842 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.844 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.844 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7258 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.845 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.5848ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.848 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.849 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.850 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.852 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.853 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.860 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.862 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.863 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.864 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.864 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.866 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.867 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.867 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.868 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.869 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.869 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.871 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.875 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 23.6618ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.877 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.878 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 29.2209 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:06.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 30.9921ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.097 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.097 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.098 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.5869 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.099 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 2.154ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000D","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.101 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.103 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.104 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.109 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.159 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.164 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.165 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.173 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 63.1996ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.175 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.176 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 73.4450 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000000E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.177 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 75.4956ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000E","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.193 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.194 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.195 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 204 in 0.7970 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000000F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 204 null null 3.9693ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000000F","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.202 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.203 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.205 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.212 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.218 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.221 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.222 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.224 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 14.1219ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.227 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.228 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 25.0101 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000010","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:09.229 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 27.4384ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000010","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.247 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.249 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.249 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.8290 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000011","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.251 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 2.9674ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.252 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.254 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.254 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.255 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.256 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8939 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000003","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.257 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 2.6276ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.259 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.259 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.262 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.263 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.265 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.266 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.268 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.269 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.271 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.302 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.303 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.305 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.310 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.313 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.314 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.315 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 4 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.317 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 4 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.318 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.319 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 62.2376ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.319 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.320 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 66.1194 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000012","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.321 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 68.8635ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.344 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.349 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.350 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.350 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.353 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.355 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 10 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.357 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 5 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.357 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.358 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.358 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.359 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 92.6295ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.360 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.360 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 97.2696 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000004","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:18.362 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 103.2208ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.818 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.819 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.3043 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000013","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.829 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 12.7562ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.831 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.832 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.833 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.834 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.835 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.836 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.840 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.842 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.843 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.843 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.844 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.844 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.845 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.845 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.848 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.853 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 18.6349ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.855 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.856 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 23.1995 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000014","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:20.857 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 25.3204ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.908 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.918 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.926 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.931 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 19.7778 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000015","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.943 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 0.6105 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBU:00000005","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.963 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 19.6741 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBV:00000001","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.963 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 55.0998ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000015","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.964 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 45.2379ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.982 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 51.4873ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBV:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.983 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.983 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.985 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.986 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.986 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.987 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.987 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.988 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.991 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.992 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.993 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.995 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:21.999 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.000 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.000 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.005 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.007 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.008 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.009 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.010 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.010 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.014 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.016 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.016 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.019 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.019 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.020 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.020 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.021 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.023 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.024 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.025 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.025 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.2101ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.026 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.0045ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.026 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.027 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.027 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 41.3363 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBV:00000002","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.029 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 44.5202 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000016","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.030 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 44.9217ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBV:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIBV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.031 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 47.9446ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000016","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.051 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.054 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.055 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.056 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.058 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.059 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.060 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.065 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.067 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.068 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.072 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 70.3064ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.073 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.073 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 88.3007 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBU:00000006","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.074 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 91.4334ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBU:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.799 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.800 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.801 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.801 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.803 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.808 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.810 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.811 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.812 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.813 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="0197cff8-1f14-77e9-bfd8-90ad44abf971" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.815 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt, Category=Shopping, Created="2025-07-03T11:07:14.0575530+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.816 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.817 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.818 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.820 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.821 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.823 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.829 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 26.7952ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.831 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.833 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 33.1720 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000017","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:22.837 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 37.917ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000017","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.599 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.600 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.601 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.5376 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000018","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.601 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 1.9089ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000018","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.603 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.604 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.605 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.606 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.609 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.611 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.612 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.613 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 6.2375ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.614 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.615 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 11.1134 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000019","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.616 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 12.9721ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000019","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.643 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.644 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.645 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 204 in 0.8852 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.646 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 204 null null 3.1473ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001A","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.649 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.651 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.652 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.652 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.653 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.655 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.657 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 5.7851ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.659 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.659 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 responded 404 in 8.8654 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:24.660 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971 - 404 null text/plain; charset=utf-8 11.2796ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001B","RequestPath":"/api/receipts/preview/0197cff8-1f14-77e9-bfd8-90ad44abf971","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.602 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.603 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.604 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.6855 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.605 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - 204 null null 3.0161ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001C","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.608 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - multipart/form-data; boundary=----WebKitFormBoundaryhFrBhLY6JjQV3xEK 15425 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.609 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.610 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.619 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.653 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.668 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.674 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.676 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.678 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.682 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.686 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971", performing delete and recreate {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.688 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.697 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.699 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" 'testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.700 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt.pdf {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p9='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.734 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.769 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.776 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197cff8-1f14-77e9-bfd8-90ad44abf971" 'testuser@example.com_0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f_Water bottle_receipt' and its physical file {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.780 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.786 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.794 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.820 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.822 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.824 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.825 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.826 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-0d16-7f69-8931-fa23dfaf0a40" {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.828 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.829 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' {"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.831 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.837 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.840 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.841 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.842 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" by user testuser@example.com, new amount: 100, new date: 2025-07-03 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.844 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.845 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 225.119ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.845 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.846 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 236.5288 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15425,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.848 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f - 200 null application/json; charset=utf-8 239.6006ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001D","RequestPath":"/api/expenses/update/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.860 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.861 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.862 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5149 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000001E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.862 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.9676ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.864 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.865 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.865 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.866 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.868 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.869 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.871 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.874 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.875 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.875 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.876 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.877 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.877 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.879 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.879 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.880 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.881 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.882 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.883 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 15.6515ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.884 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.886 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 21.7317 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000001F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:39.887 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 23.1016ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000001F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.097 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.098 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.099 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 204 in 0.6916 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000020","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.100 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 204 null null 2.6391ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000020","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.103 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.104 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.105 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.105 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.118 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.120 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.121 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.122 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 15.7079ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.122 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.124 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f responded 200 in 19.7201 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000021","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.125 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f?includeReceipt=true - 200 null application/json; charset=utf-8 21.6333ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000021","RequestPath":"/api/expenses/get/0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.147 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.147 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.148 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 responded 204 in 0.6561 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000022","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.149 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - 204 null null 2.5773ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000022","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.151 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.154 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.155 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.156 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.168 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.173 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.176 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully retrieved receipt "019807d5-0d16-7f69-8931-fa23dfaf0a40" 'testuser@example' (14700 bytes) for user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.179 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Serving receipt preview testuser@example (14700 bytes) with content-type application/octet-stream {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.182 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing FileContentResult, sending file with download name '' ... {"EventId":{"Id":2,"Name":"ExecutingFileResultWithNoFileName"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.191 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 36.045ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.192 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.195 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 responded 200 in 41.5929 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":14700,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000023","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:41.197 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40 - 200 14700 application/octet-stream 46.0355ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000023","RequestPath":"/api/receipts/preview/019807d5-0d16-7f69-8931-fa23dfaf0a40","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.918 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.919 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.920 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 204 in 0.7115 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000024","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.920 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 204 null null 2.5877ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000024","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.923 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - multipart/form-data; boundary=----WebKitFormBoundarySZLrUBM8hYvAFVcE 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.924 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.926 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.926 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.928 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.931 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.933 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.935 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.936 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.937 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.939 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.940 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633", performing delete and recreate {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.942 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.949 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.951 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.951 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt.pdf {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.969 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.972 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.975 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197b6f5-e530-7a64-904a-bd7bb4c41633" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' and its physical file {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.976 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.978 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.982 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.990 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.993 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.996 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.998 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example' for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:51.999 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.029 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.031 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example' {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.032 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.034 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.036 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.037 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.038 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com, new amount: 399, new date: 2025-06-28 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.038 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.039 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 112.807ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.041 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.042 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 200 in 117.3314 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000025","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.043 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 200 null application/json; charset=utf-8 120.2573ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000025","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.054 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.055 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.055 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.4664 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000026","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.056 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.8502ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000026","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.059 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.061 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.061 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.062 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.064 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.069 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.071 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.072 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.073 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.074 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.074 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.075 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.075 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.076 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.078 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.079 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.080 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.082 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 20.4207ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.084 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.085 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 26.7300 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000027","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:52.086 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 28.1287ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000027","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.587 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.589 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.590 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 204 in 1.0373 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000028","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.594 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 204 null null 7.371ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000028","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.608 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - multipart/form-data; boundary=----WebKitFormBoundary5t2efrcPluIjQFYh 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.614 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.619 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.621 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.637 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.649 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.651 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.669 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.670 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.671 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.674 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.676 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482", performing delete and recreate {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.676 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.679 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.679 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.682 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted physical receipt file: /Users/aditirajesh/Desktop/CapstoneProject-ETS/Receipts/testuser@example.pdf {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.685 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p10='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8;
UPDATE "Receipts" SET "ReceiptName" = @p9
WHERE "Id" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.688 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.718 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.719 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "019807d5-3cb1-738d-b7b4-d0c13c2aa482" 'testuser@example.com_0197b6f5-e51d-7498-8cf4-9f6a2b3111bb_Freakonomics book purchase_receipt' and its physical file {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.720 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.722 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.725 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.728 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.730 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.733 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.734 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-5706-7db8-ad03-bf5d98935bd8" 'testuser@example' for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.734 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-5706-7db8-ad03-bf5d98935bd8" {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.736 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.738 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-5706-7db8-ad03-bf5d98935bd8" 'testuser@example' {"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.738 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.750 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.768 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.769 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.769 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "0197b6f5-e51d-7498-8cf4-9f6a2b3111bb" by user testuser@example.com, new amount: 399, new date: 2025-06-28 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 0197b6f5-e51d-7498-8cf4-9f6a2b3111bb by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.770 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.771 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 146.6506ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.771 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.772 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb responded 200 in 158.1861 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000029","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.773 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb - 200 null application/json; charset=utf-8 164.9505ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000029","RequestPath":"/api/expenses/update/0197b6f5-e51d-7498-8cf4-9f6a2b3111bb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.784 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.785 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.786 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5097 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.787 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.2997ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.789 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.790 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.791 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.792 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.794 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.796 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.801 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.804 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.804 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.805 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.805 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.806 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.808 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.810 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.811 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.812 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 19.2283ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.814 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.815 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 25.4576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:57:58.816 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 27.2951ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.176 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.177 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.178 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba responded 204 in 0.8805 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.178 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - 204 null null 2.756ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002C","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.182 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.183 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.184 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.184 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.198 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.199 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "01976811-76bc-74fd-a574-78c76d5f52ba" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.200 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.200 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 15.1977ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.202 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.202 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba responded 200 in 19.1290 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.204 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba?includeReceipt=true - 200 null application/json; charset=utf-8 22.4689ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002D","RequestPath":"/api/expenses/get/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.219 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.220 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.221 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb responded 204 in 0.7767 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000002E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.223 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - 204 null null 3.6122ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002E","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.225 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.226 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.227 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.228 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.230 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.258 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.259 +05:30 ERR] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt.pdf for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.259 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing NotFoundObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.260 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 30.3458ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.260 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.261 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb responded 404 in 34.4552 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000002F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:03.261 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb - 404 null text/plain; charset=utf-8 35.9308ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000002F","RequestPath":"/api/receipts/preview/0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.672 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.673 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.674 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba responded 204 in 0.6891 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000030","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.677 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - 204 null null 5.2029ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000030","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.682 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - multipart/form-data; boundary=----WebKitFormBoundaryNdfntumPyBiGRlHI 15435 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.684 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.686 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.691 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.700 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.702 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.708 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "01976811-76bc-74fd-a574-78c76d5f52ba" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.710 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.716 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.717 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb", performing delete and recreate {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.718 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.730 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.731 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" 'testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.732 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt.pdf {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.749 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.752 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.754 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.755 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197c6c5-47fe-7a5f-87a2-8f2a0fc72eeb" 'testuser@example.com_01976811-76bc-74fd-a574-78c76d5f52ba_Art classes_receipt' and its physical file {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.756 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.758 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.762 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.766 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.779 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.798 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.800 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-860c-7681-aeb9-4799577f7961" 'testuser@example' for expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.800 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-860c-7681-aeb9-4799577f7961" {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.802 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.803 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-860c-7681-aeb9-4799577f7961" 'testuser@example' {"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.803 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "01976811-76bc-74fd-a574-78c76d5f52ba" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.805 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.808 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01976811-76bc-74fd-a574-78c76d5f52ba","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.808 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.809 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01976811-76bc-74fd-a574-78c76d5f52ba" by user testuser@example.com, new amount: 5000, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 01976811-76bc-74fd-a574-78c76d5f52ba by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.809 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.811 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 121.3435ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.812 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.813 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba responded 200 in 128.6857 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15435,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000031","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.814 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba - 200 null application/json; charset=utf-8 131.8173ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000031","RequestPath":"/api/expenses/update/01976811-76bc-74fd-a574-78c76d5f52ba","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.832 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.0151 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000032","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.833 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.6636ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000032","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.835 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.837 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.838 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.840 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.842 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.843 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.850 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.851 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.852 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.854 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.854 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.857 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.858 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.859 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.859 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.860 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.865 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 24.1491ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.866 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.868 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 31.2543 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000033","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:10.870 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 34.7639ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000033","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.812 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.813 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.814 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b responded 204 in 0.8596 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000034","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.815 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - 204 null null 2.7148ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000034","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - multipart/form-data; boundary=----WebKitFormBoundaryK1ebGxA1DMPb4s4G 15444 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.819 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.820 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.821 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.822 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.825 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.827 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.829 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.829 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "019767db-89d3-7750-82b5-16484d1d537b" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.830 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197ca8d-6949-7db7-893e-99d2787929b2" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197ca8d-6949-7db7-893e-99d2787929b2", performing delete and recreate {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197ca8d-6949-7db7-893e-99d2787929b2" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.851 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.852 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197ca8d-6949-7db7-893e-99d2787929b2" 'testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.852 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt.pdf {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.855 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p9='?' (DbType = Guid), @p7='?', @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "Notes" = @p7, "UpdatedAt" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.858 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.860 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.862 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197ca8d-6949-7db7-893e-99d2787929b2" 'testuser@example.com_019767db-89d3-7750-82b5-16484d1d537b_Netflix Subscription_receipt' and its physical file {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.863 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.865 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.870 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.876 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.879 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.899 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-a5b8-7f53-a232-a21d1b23ab18" 'testuser@example' for expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.900 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-a5b8-7f53-a232-a21d1b23ab18" {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.903 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-a5b8-7f53-a232-a21d1b23ab18" 'testuser@example' {"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.904 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "019767db-89d3-7750-82b5-16484d1d537b" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.905 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.907 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767db-89d3-7750-82b5-16484d1d537b","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.909 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.909 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "019767db-89d3-7750-82b5-16484d1d537b" by user testuser@example.com, new amount: 600, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767db-89d3-7750-82b5-16484d1d537b by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.910 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.911 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 89.1014ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.911 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.912 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b responded 200 in 93.1030 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15444,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000035","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.912 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b - 200 null application/json; charset=utf-8 95.1478ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000035","RequestPath":"/api/expenses/update/019767db-89d3-7750-82b5-16484d1d537b","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.928 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.929 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.929 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.6551 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000036","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.930 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.4933ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000036","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.932 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.934 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.935 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.935 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.937 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.948 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.949 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.952 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.953 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.954 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.955 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.956 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.957 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.959 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 22.9348ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.961 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.962 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 27.9014 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000037","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:18.962 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 29.909ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000037","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.796 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.798 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.799 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 responded 204 in 0.6523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000038","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.800 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - 204 null null 3.7974ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000038","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.804 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - multipart/form-data; boundary=----WebKitFormBoundaryWHqOV0iGMm9o7VBF 15448 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.805 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.806 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.809 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.811 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com with new date no change {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.814 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.818 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.830 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.831 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt update for expense "019767b6-d994-7e0b-aa04-9f39255b3884" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.832 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt update for receipt "0197c965-c922-764a-9fcb-f88f6ef38642" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.849 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Receipt file update requested for receipt "0197c965-c922-764a-9fcb-f88f6ef38642", performing delete and recreate {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.850 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt deletion for receipt "0197c965-c922-764a-9fcb-f88f6ef38642" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.851 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.852 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Found receipt "0197c965-c922-764a-9fcb-f88f6ef38642" 'testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt' owned by testuser@example.com, proceeding with deletion {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.855 +05:30 WRN] ExpenseTrackingSystem.Services.ReceiptService: Physical receipt file not found: /Users/aditirajesh/Desktop/GenSpark-Training/BackendProject/Receipts/testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt.pdf {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.858 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p8='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
UPDATE "Expenses" SET "UpdatedAt" = @p7
WHERE "Id" = @p8; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.862 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.864 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Receipts"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.866 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully deleted receipt "0197c965-c922-764a-9fcb-f88f6ef38642" 'testuser@example.com_019767b6-d994-7e0b-aa04-9f39255b3884_Pickleball court booking_receipt' and its physical file {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.867 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.879 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.902 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.904 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.906 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.908 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' for expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.908 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully recreated receipt with new file as "019807d5-c12d-767e-8f62-6385633cdc15" {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.910 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.911 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully updated receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' {"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.912 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated receipt for expense "019767b6-d994-7e0b-aa04-9f39255b3884" {"Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.914 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.919 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.920 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.921 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "019767b6-d994-7e0b-aa04-9f39255b3884" by user testuser@example.com, new amount: 1000, new date: 2025-06-13 {"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["UpdateExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.922 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"42ab1168-39a5-4317-8e81-ebd4695b2e56","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.923 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 113.0844ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.924 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.925 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 responded 200 in 120.1576 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15448,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000039","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.926 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884 - 200 null application/json; charset=utf-8 122.4117ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000039","RequestPath":"/api/expenses/update/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.939 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.940 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.941 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.1812 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003A","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.942 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.7688ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.945 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.947 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.948 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.950 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.951 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.952 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.956 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.958 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 12 expenses for user testuser@example.com on page 1 (Total user expenses: 12) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.959 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.960 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 12 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.962 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.964 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.965 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.966 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.968 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca93-c239-7289-ae52-039803caaffa" 'Pepper spray ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.969 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197c5d5-6a0b-7bf6-9b27-020cfb6cc9df" 'Geetham dosa': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.972 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 12 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.989 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"39e2b831-a603-4368-9c56-5828e0190852","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.995 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 44.2857ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.996 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.997 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 49.8579 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003B","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:25.997 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 52.0253ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.818 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.819 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884 responded 204 in 0.5539 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003C","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.820 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - 204 null null 2.0249ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003C","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.831 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.832 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto]] GetExpense(System.Guid, Boolean) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.848 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"019767b6-d994-7e0b-aa04-9f39255b3884","Username":"testuser@example.com","IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.849 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully retrieved expense "019767b6-d994-7e0b-aa04-9f39255b3884" with receipt metadata for user testuser@example.com {"IncludeReceipt":true,"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Scope":["GetExpense 019767b6-d994-7e0b-aa04-9f39255b3884 by testuser@example.com (IncludeReceipt: True)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.850 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.ExpenseResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"937ce8b6-dbf7-4b06-83e2-f65f25835d2e","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.851 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem) in 18.5578ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.852 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.852 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884 responded 200 in 21.9139 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003D","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.854 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884?includeReceipt=true - 200 null application/json; charset=utf-8 24.6466ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003D","RequestPath":"/api/expenses/get/019767b6-d994-7e0b-aa04-9f39255b3884","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.863 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.864 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.865 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 responded 204 in 0.9757 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:0000003E","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.866 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - 204 null null 3.2642ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003E","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.868 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.871 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.872 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.872 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "PreviewReceipt", controller = "Receipt"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewReceipt(System.Guid) on controller ExpenseTrackingSystem.Controllers.ReceiptController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.874 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Preview receipt request for receipt "019807d5-c12d-767e-8f62-6385633cdc15" by user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.881 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username", e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Receipts" AS r
INNER JOIN "Expenses" AS e ON r."ExpenseId" = e."Id"
INNER JOIN "Users" AS u ON r."Username" = u."Username"
WHERE r."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.898 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.899 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully retrieved receipt "019807d5-c12d-767e-8f62-6385633cdc15" 'testuser@example' (14700 bytes) for user testuser@example.com {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.899 +05:30 INF] ExpenseTrackingSystem.Controllers.ReceiptController: Serving receipt preview testuser@example (14700 bytes) with content-type application/octet-stream {"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.900 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.FileContentResultExecutor: Executing FileContentResult, sending file with download name '' ... {"EventId":{"Id":2,"Name":"ExecutingFileResultWithNoFileName"},"ActionId":"2221409e-ffb5-40b6-9281-98ccf88a4d22","ActionName":"ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.901 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem) in 26.9838ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.901 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReceiptController.PreviewReceipt (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.902 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 responded 200 in 31.5709 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":14700,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:0000003F","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:27.906 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15 - 200 14700 application/octet-stream 37.6541ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:0000003F","RequestPath":"/api/receipts/preview/019807d5-c12d-767e-8f62-6385633cdc15","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.446 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.447 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.447 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.4402 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000040","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.448 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 1.6909ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000040","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.450 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.451 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.452 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.453 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.455 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.456 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.462 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.480 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.481 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.482 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.484 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.485 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.486 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.487 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.488 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"650d92ea-cd6c-46af-8b74-2749014d322e","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.489 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 34.9695ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.490 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.491 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 40.0451 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000041","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 43.1931ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000041","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.498 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.498 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.499 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.499 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.500 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.3064 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC0:00000001","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.500 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.0190 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC1:00000001","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.501 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 3.8741ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC0:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.502 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 4.5028ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC1:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.505 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.506 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.507 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.508 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.510 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.511 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.512 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.513 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.514 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.515 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.516 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.516 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.530 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.530 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.533 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.533 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.534 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.534 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.535 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.538 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.539 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.540 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 18 expenses out of 18 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.543 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 12 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.544 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.545 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a5d562e5-9256-4d30-b788-8ccb23556acb","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"e12958e6-9dad-42d5-8746-2a081c69c56f","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.549 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 33.3277ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.550 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 41.2526ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.550 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.551 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.552 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 38.5609 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC0:00000002","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.552 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 45.7074 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000042","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.553 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 40.6286ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2KS8USIC0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:34.554 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 48.2165ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000042","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.335 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.336 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.336 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/testuser@example.com responded 204 in 0.4545 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIBT:00000043","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.337 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testuser@example.com - 204 null null 1.7368ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000043","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.339 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.339 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.340 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.346 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.350 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for testuser@example.com by testuser@example.com from IP ::1 {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.354 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"testuser@example.com","RequestingUser":"testuser@example.com","ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.357 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user testuser@example.com for testuser@example.com {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Scope":["GetUser testuser@example.com by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.358 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.359 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 11.9728ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.360 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.361 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/testuser@example.com responded 200 in 21.7775 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIBT:00000044","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:58:36.362 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/testuser@example.com - 200 null application/json; charset=utf-8 23.3363ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIBT:00000044","RequestPath":"/api/users/get/testuser@example.com","ConnectionId":"0HNE2KS8USIBT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.301 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.302 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.303 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 0.7522 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000001","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.304 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.9142ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.306 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.308 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.309 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.310 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.312 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testadmin@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.314 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testadmin@example.com {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.334 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.590 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testadmin@example.com","RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testadmin@example.com with role Admin, token expires: "2025-07-21T07:29:25.5895170+00:00" {"RemoteIP":"::1","ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1","UserLogin for testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testadmin@example.com from IP ::1 {"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Scope":["LoginRequest for testadmin@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.591 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"23e3aec6-2abb-4535-bec2-cfe93cb835b8","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.592 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 281.4034ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.592 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.593 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 285.2457 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":58,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000002","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.593 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 287.4531ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.635 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.636 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.637 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.5945 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000003","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.637 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 1.8781ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000003","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.639 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.640 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.641 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.645 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.649 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin testadmin@example.com from IP ::1 {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.685 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 12 users from repository {"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.686 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 12 users for admin testadmin@example.com {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 40.6284ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.688 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 48.8119 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000004","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:25.689 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 50.0524ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000004","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.196 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/delete/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.197 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.198 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/delete/ponmalar@gmail.com responded 204 in 0.4523 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000005","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.198 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/delete/ponmalar@gmail.com - 204 null null 2.4492ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000005","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.200 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 DELETE http://localhost:5295/api/users/delete/ponmalar@gmail.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.201 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.203 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.208 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] DeleteUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.212 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: User deletion request for ponmalar@gmail.com by admin testadmin@example.com from IP ::1 {"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.215 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Starting user deletion for ponmalar@gmail.com by testadmin@example.com {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.235 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.236 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Deleting user ponmalar@gmail.com with 1 expenses and 0 receipts {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.238 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.241 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.242 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully soft deleted user ponmalar@gmail.com by testadmin@example.com, 1 expenses and 0 receipts will be cascade deleted {"TargetUsername":"ponmalar@gmail.com","AdminUser":"testadmin@example.com","ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.243 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully deleted user ponmalar@gmail.com by admin testadmin@example.com {"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Scope":["DeleteUser ponmalar@gmail.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1accaacf-18c7-422a-85c5-71c9802054ac","ActionName":"ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem) in 35.4004ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.245 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.DeleteUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.245 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP DELETE /api/users/delete/ponmalar@gmail.com responded 200 in 44.3938 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000006","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:32.246 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 DELETE http://localhost:5295/api/users/delete/ponmalar@gmail.com - 200 null application/json; charset=utf-8 45.6467ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000006","RequestPath":"/api/users/delete/ponmalar@gmail.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.599 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testadmin@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.602 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.603 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/get/testadmin@example.com responded 204 in 1.1803 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000007","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.606 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/get/testadmin@example.com - 204 null null 7.9299ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000007","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.609 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/get/testadmin@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.610 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.611 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.611 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.User]] GetUser(System.String) on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.613 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get user request for testadmin@example.com by testadmin@example.com from IP ::1 {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.615 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"TargetUsername":"testadmin@example.com","RequestingUser":"testadmin@example.com","ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.616 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved user testadmin@example.com for testadmin@example.com {"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Scope":["GetUser testadmin@example.com by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.618 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.User'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cba99da2-8b3f-47ca-9f9e-846ffe3a9b64","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.618 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem) in 6.1792ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.619 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetUser (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.619 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/get/testadmin@example.com responded 200 in 9.6318 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:00000008","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:36.620 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/get/testadmin@example.com - 200 null application/json; charset=utf-8 11.1445ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000008","RequestPath":"/api/users/get/testadmin@example.com","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.890 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.891 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.892 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/users/all responded 204 in 0.6845 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2KS8USIC2:00000009","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.893 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 204 null null 2.4383ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:00000009","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.895 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - null null {"EventId":{"Id":1},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.896 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.898 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.899 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.User]]] GetAll() on controller ExpenseTrackingSystem.Controllers.UserController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.901 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Get all users request by admin testadmin@example.com from IP ::1 {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.914 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.915 +05:30 INF] ExpenseTrackingSystem.Services.UserService: Successfully retrieved 11 users from repository {"AdminUser":"testadmin@example.com","ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.917 +05:30 INF] ExpenseTrackingSystem.Controllers.UserController: Successfully retrieved 11 users for admin testadmin@example.com {"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Scope":["GetAllUsers by testadmin@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.918 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.User, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"476974d2-ff77-47d0-a11d-b5434d1f133e","ActionName":"ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)","RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.919 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem) in 18.1213ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.919 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.UserController.GetAll (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.921 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/users/all responded 200 in 25.2225 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testadmin@example.com","IsAuthenticated":true,"RequestId":"0HNE2KS8USIC2:0000000A","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 12:59:37.922 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/users/all?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 27.1574ms {"EventId":{"Id":2},"RequestId":"0HNE2KS8USIC2:0000000A","RequestPath":"/api/users/all","ConnectionId":"0HNE2KS8USIC2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:30:17.906 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.015 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.108 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.202 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.204 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.204 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:45.205 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:47.398 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2MT64LM5J:00000001","RequestPath":"/","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:47.464 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2MT64LM5J:00000001","RequestPath":"/","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:47.524 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 72.8747 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MT64LM5J:00000001","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:47.547 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 154.4643ms {"EventId":{"Id":2},"RequestId":"0HNE2MT64LM5J:00000001","RequestPath":"/","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:47.561 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2MT64LM5J:00000001","RequestPath":"/","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:51.708 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2MT64LM5J:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:51.936 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 224.9544 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MT64LM5J:00000002","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:47:51.937 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 229.7082ms {"EventId":{"Id":2},"RequestId":"0HNE2MT64LM5J:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.038 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.045 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.058 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.082 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"337e3f16-cd1d-44bf-a14d-b47ce2e3498a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.317 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"337e3f16-cd1d-44bf-a14d-b47ce2e3498a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.320 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"337e3f16-cd1d-44bf-a14d-b47ce2e3498a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.334 +05:30 ERR] ExpenseTrackingSystem.Controllers.AuthController: Unexpected error during login for user testuser@example.com from IP ::1 {"ActionId":"337e3f16-cd1d-44bf-a14d-b47ce2e3498a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.340 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"337e3f16-cd1d-44bf-a14d-b47ce2e3498a","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.346 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 258.2387ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.346 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.347 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 400 in 303.6999 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MT64LM5J:00000003","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:48:08.349 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null text/plain; charset=utf-8 311.1995ms {"EventId":{"Id":2},"RequestId":"0HNE2MT64LM5J:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MT64LM5J","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:24.667 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.391 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.450 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.522 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.524 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.524 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:35.525 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.134 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null {"EventId":{"Id":1},"RequestId":"0HNE2MUPCRHH7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.238 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/index.html responded 200 in 73.7886 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MUPCRHH7:00000001","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.248 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 115.0504ms {"EventId":{"Id":2},"RequestId":"0HNE2MUPCRHH7:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.418 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2MUPCRHH7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.598 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 178.3207 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MUPCRHH7:00000002","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:39.598 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.6477ms {"EventId":{"Id":2},"RequestId":"0HNE2MUPCRHH7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:56.806 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 66 {"EventId":{"Id":1},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:56.813 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:56.815 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:56.855 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:56.873 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:57.036 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:57.040 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.088 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.371 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (60ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.832 +05:30 WRN] ExpenseTrackingSystem.Services.AuthenticationService: Login failed: Invalid password for user testuser@example.com {"RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.833 +05:30 WRN] ExpenseTrackingSystem.Controllers.AuthController: Login failed for user testuser@example.com - invalid password: Invalid password {"RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.839 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing UnauthorizedObjectResult, writing value of type 'System.String'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.843 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 1966.8155ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.844 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.846 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 401 in 2036.3562 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":66,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MUPCRHH7:00000003","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:50:58.854 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null text/plain; charset=utf-8 2047.6699ms {"EventId":{"Id":2},"RequestId":"0HNE2MUPCRHH7:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.116 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.119 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.121 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.121 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.126 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.127 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.155 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.607 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.617 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T09:21:05.4929570+00:00" {"RemoteIP":"::1","ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.618 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.619 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"416e7684-eeae-46ab-b9da-12f1f3bb12a6","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.623 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 500.4443ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.624 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.627 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 508.4281 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2MUPCRHH7:00000004","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:05.628 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 511.5062ms {"EventId":{"Id":2},"RequestId":"0HNE2MUPCRHH7:00000004","RequestPath":"/api/auth/login","ConnectionId":"0HNE2MUPCRHH7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 14:51:09.251 +05:30 INF] Microsoft.Hosting.Lifetime: Application is shutting down... {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.302 +05:30 INF] : Starting ExpenseTrackingSystem web host with Azure Blob Storage logging enabled {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.376 +05:30 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using '/Users/aditirajesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. {"EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.466 +05:30 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5295 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.468 +05:30 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.468 +05:30 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:12:01.469 +05:30 INF] Microsoft.Hosting.Lifetime: Content root path: /Users/aditirajesh/Desktop/CapstoneProject-ETS/ExpenseTrackingSystem {"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:49.955 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/ - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JN:00000001","RequestPath":"/","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:50.016 +05:30 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"RequestId":"0HNE2NCRKD3JN:00000001","RequestPath":"/","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:50.094 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET / responded 404 in 88.1167 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JN:00000001","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:50.118 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 164.669ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JN:00000001","RequestPath":"/","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:50.155 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404 {"EventId":{"Id":16},"RequestId":"0HNE2NCRKD3JN:00000001","RequestPath":"/","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:55.372 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:55.578 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /swagger/v1/swagger.json responded 200 in 187.9233 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JN:00000002","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:15:55.579 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.2866ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.271 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 70 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.277 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.290 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.316 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.531 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:15.536 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:16.554 +05:30 WRN] Microsoft.EntityFrameworkCore.Query: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:16.873 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (63ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.463 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.471 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T09:46:17.3649610+00:00" {"RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.473 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.479 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.488 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 2166.7316ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.489 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.491 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 2215.9254 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":70,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JN:00000003","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:16:17.499 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 2228.2384ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JN:00000003","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JN","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.860 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryBa6c9QuULd0yPCbi 15548 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.864 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.919 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.927 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.961 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user testuser@example.com for target null with amount 500, category Personal Care, and expense date 2025-07-14 {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.963 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Using custom expense date 2025-07-14 for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.966 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user testuser@example.com with amount 500, category Personal Care, and expense date "2025-07-14T09:46:38.1410000+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.987 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:20.991 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-14T09:46:38.1410000+00:00" for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.035 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.039 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.040 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt upload for expense "01980855-da8a-7642-bf3c-b53f5c85feef" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.044 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.107 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.129 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.157 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.160 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.206 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.208 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "01980855-db0c-7367-a0e5-7fde1e744306" 'testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt' for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.209 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Receipt successfully created for expense "01980855-da8a-7642-bf3c-b53f5c85feef" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.213 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-14T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.215 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01980855-da8a-7642-bf3c-b53f5c85feef" for user testuser@example.com with amount 500 on date "2025-07-14T09:46:38.1410000+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.216 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01980855-da8a-7642-bf3c-b53f5c85feef" for user testuser@example.com with amount 500 on date 2025-07-14 by testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/14/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.217 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.251 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 322.968ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.251 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.252 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 388.6737 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15548,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JO:00000001","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:18:21.253 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 392.6022ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JO:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JO","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.082 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryMelPXOIqIhiBpO0c 15554 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.085 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.087 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.087 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.092 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user testuser@example.com for target null with amount 500, category Food & Dining, and expense date 2025-07-06 {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.093 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Using custom expense date 2025-07-06 for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.094 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user testuser@example.com with amount 500, category Food & Dining, and expense date "2025-07-06T09:46:38.1410000+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.171 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.175 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-06T09:46:38.1410000+00:00" for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.178 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.181 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.182 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Processing receipt upload for expense "01980856-d538-7731-9df8-9e3a63d2e4be" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.183 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Starting receipt creation for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.185 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.189 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.207 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Guid), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Receipts" ("Id", "Category", "CreatedAt", "CreatedBy", "ExpenseId", "FilePath", "ReceiptName", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.210 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.212 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.213 +05:30 INF] ExpenseTrackingSystem.Services.ReceiptService: Successfully created receipt "01980856-d548-7263-90f7-e8c544d9287d" 'testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt' for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.214 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Receipt successfully created for expense "01980856-d538-7731-9df8-9e3a63d2e4be" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.216 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":500,"ExpenseDate":"2025-07-06T09:46:38.1410000+00:00","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.216 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01980856-d538-7731-9df8-9e3a63d2e4be" for user testuser@example.com with amount 500 on date "2025-07-06T09:46:38.1410000+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.217 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01980856-d538-7731-9df8-9e3a63d2e4be" for user testuser@example.com with amount 500 on date 2025-07-06 by testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 500 date 07/06/2025 09:46:38 +00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.218 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.221 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 132.9021ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.221 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.222 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 137.4613 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":15554,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JP:00000001","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:19:25.223 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 140.5697ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JP:00000001","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JP","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.705 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.709 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.713 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/auth/login responded 204 in 3.9877 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000001","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.714 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 9.2155ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.716 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.717 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.718 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.719 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto]] Login(ExpenseTrackingSystem.Models.DTOs.UserLoginRequestDto) on controller ExpenseTrackingSystem.Controllers.AuthController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.723 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login attempt for user testuser@example.com from IP ::1 {"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.724 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Starting login attempt for user testuser@example.com {"RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:06.767 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.084 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Username":"testuser@example.com","RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.085 +05:30 INF] ExpenseTrackingSystem.Services.AuthenticationService: Login successful for user testuser@example.com with role User, token expires: "2025-07-21T10:00:07.0655660+00:00" {"RemoteIP":"::1","ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1","UserLogin for testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.086 +05:30 INF] ExpenseTrackingSystem.Controllers.AuthController: Login successful for user testuser@example.com from IP ::1 {"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Scope":["LoginRequest for testuser@example.com from ::1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.087 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.DTOs.UserLoginResponseDto'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"228ad2d2-44d7-45a9-b92b-1185e2851a7c","ActionName":"ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.087 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem) in 367.6031ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.088 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.AuthController.Login (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.088 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/auth/login responded 200 in 371.0947 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":61,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000002","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.089 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 372.4987ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.117 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.118 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.119 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.9951 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000003","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.120 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.120 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.3767ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.126 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.128 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.128 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.128 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.7398 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JR:00000001","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.130 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 9.4413ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JR:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.134 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.135 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.135 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.137 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.145 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.147 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.158 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.158 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.162 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.162 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.168 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.176 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.180 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.181 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.185 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.192 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.193 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.194 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.239 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.239 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.248 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 12 expenses out of 20 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.248 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 12 expenses out of 20 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.249 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 7 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.250 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 7 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.253 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.256 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.257 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.259 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.261 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.262 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.262 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 115.7537ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.263 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.264 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 129.0339 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JR:00000002","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.265 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 131.4295ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JR:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JR","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.266 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 117.5009ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.267 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.267 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 139.8132 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:00000004","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:07.268 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 141.8485ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.578 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.580 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.581 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.0764 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000005","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.583 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 5.0844ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.588 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.589 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.592 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.602 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.615 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.620 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.635 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.640 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 14 expenses for user testuser@example.com on page 1 (Total user expenses: 14) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.642 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.643 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 14 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.643 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.644 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.644 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.645 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.646 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.647 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.648 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.648 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.649 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 14 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.650 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.655 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 51.8509ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.656 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.657 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 67.8689 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:00000006","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:12.658 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 69.781ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000006","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.425 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000007","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.426 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000007","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.426 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef responded 204 in 0.4803 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000007","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.427 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - 204 null null 1.6802ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000007","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.429 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - multipart/form-data; boundary=----WebKitFormBoundaryfaFpl4hOoPZU5MMc 596 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.429 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.430 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.436 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.443 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.461 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.466 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.468 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.475 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.478 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.479 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.479 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com, new amount: 500, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.480 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.481 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 44.2422ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.482 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.483 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef responded 200 in 53.3043 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":596,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:00000008","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.483 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - 200 null application/json; charset=utf-8 54.771ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000008","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.488 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.491 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.491 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7601 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000009","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 4.9725ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.495 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.495 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.497 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.499 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.500 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.501 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.511 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.513 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 14 expenses for user testuser@example.com on page 1 (Total user expenses: 14) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.513 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.514 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 14 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.514 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.515 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.515 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.516 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.517 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.519 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.519 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.520 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.520 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 14 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.521 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.525 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 24.7059ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.525 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 30.7435 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:0000000A","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:40.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 32.0936ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.864 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000B","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.865 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000B","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.865 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef responded 204 in 0.5641 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:0000000B","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.866 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - 204 null null 2.018ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000B","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.868 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - multipart/form-data; boundary=----WebKitFormBoundaryZmwWOCS0KArDUGAT 596 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.869 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.870 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.871 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.872 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.875 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.877 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.878 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.881 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.885 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980855-da8a-7642-bf3c-b53f5c85feef","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.886 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.886 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980855-da8a-7642-bf3c-b53f5c85feef" by user testuser@example.com, new amount: 500, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Scope":["UpdateExpense 01980855-da8a-7642-bf3c-b53f5c85feef by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.887 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.888 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 16.8095ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.889 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.889 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef responded 200 in 20.3031 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":596,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:0000000C","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.890 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef - 200 null application/json; charset=utf-8 21.5542ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000C","RequestPath":"/api/expenses/update/01980855-da8a-7642-bf3c-b53f5c85feef","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.893 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.894 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.927 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 33.6698 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:0000000D","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.929 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 36.0562ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.932 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.932 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.933 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.934 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.949 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.950 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.962 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.964 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 14 expenses for user testuser@example.com on page 1 (Total user expenses: 14) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.965 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.966 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 14 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.966 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.967 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.967 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.969 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.969 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.970 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.971 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.971 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197ca94-44ad-7d52-8ea3-de2b2fdcc365" 'Airbnb booking ': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.972 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 14 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.973 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.976 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 27.8726ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.977 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.978 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 45.9843 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:0000000E","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:30:50.980 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 48.0532ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.352 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:0000000F","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.353 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:0000000F","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.354 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/add responded 204 in 1.0959 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:0000000F","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.355 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - 204 null null 3.3107ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:0000000F","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.357 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryWcbeq8Uzz3cGe8Aw 448 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.358 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.358 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.359 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.360 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user testuser@example.com for target null with amount 20, category Food & Dining, and expense date current {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.361 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user testuser@example.com with amount 20, category Food & Dining, and expense date null {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.364 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":20,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.366 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-14T10:01:19.3663730+00:00" for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":20,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.368 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":20,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.370 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":20,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.372 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":20,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.373 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01980861-bb07-7219-b5db-fb1242dac7a3" for user testuser@example.com with amount 20 on date "2025-07-14T10:01:19.3663730+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.374 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01980861-bb07-7219-b5db-fb1242dac7a3" for user testuser@example.com with amount 20 on date 2025-07-14 by testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 20 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.375 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.375 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 15.9389ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.376 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.376 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 18.4251 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":448,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:00000010","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.377 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 20.0638ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000010","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.380 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000011","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.380 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000011","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.381 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5904 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JQ:00000011","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.382 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.9431ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000011","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.384 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.384 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.385 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.386 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.387 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.388 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.390 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.393 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.394 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.394 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.395 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.396 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.397 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.397 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.398 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.398 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.399 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.400 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.400 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.402 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.404 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 17.8057ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.405 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.406 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 21.5341 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JQ:00000012","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:31:19.408 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 23.7313ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JQ:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JQ","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.953 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.954 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.954 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.955 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.955 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.955 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.956 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.8444 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000001","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.956 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.5603 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000001","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.957 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.8717 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000001","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.958 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 4.2385ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.959 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 4.8955ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.960 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 5.9049ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000001","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.961 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.963 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.965 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.963 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.965 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.966 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.966 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.966 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.967 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.970 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.970 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.971 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.971 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.973 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.977 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.981 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.995 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:08.995 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.002 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.002 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.003 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.003 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.004 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.006 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.006 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.007 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.010 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.010 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.010 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.010 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.012 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.013 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.013 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.014 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.015 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.016 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.016 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.017 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.018 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.018 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.018 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.021 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.021 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.022 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 53.9971ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.023 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.023 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 54.0023ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.023 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.024 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.025 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 61.5285 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000002","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.026 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.027 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 61.8414 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000002","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.027 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 66.3024ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.029 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 66.0327ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.030 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 56.0947ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.031 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.031 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 65.7447 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000002","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:09.032 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 67.3301ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000002","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.406 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.407 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.407 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.407 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.407 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.5732 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000003","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.409 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.409 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.410 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - 204 null null 4.4314ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.411 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 2.2928 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000003","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.413 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 3.4033 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000003","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.414 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 204 null null 7.3464ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000003","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.415 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - 204 null null 7.8952ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.416 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.418 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.418 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.419 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.419 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.419 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.420 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.420 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.421 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.421 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.421 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.424 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.422 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.424 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.424 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.425 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.426 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.428 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.429 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.430 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.434 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.435 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.436 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.436 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.436 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.437 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.438 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.438 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.441 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.441 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.444 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.444 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.444 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.446 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.447 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.449 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.449 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.450 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.451 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.452 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.452 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.453 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.454 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.454 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.455 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.456 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.457 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 35.7382ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.457 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.458 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 32.9447ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.458 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.459 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 35.2515ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.459 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.459 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 43.0793 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000004","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.460 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.462 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 42.8333 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000004","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.463 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - 200 null application/json; charset=utf-8 49.0395ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.464 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 45.1059 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000004","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.465 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 47.3399ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:15.467 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 49.2429ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000004","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.486 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.486 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.487 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.487 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.487 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.488 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.489 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.1083 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000005","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 2.4833 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000005","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 2.3405 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000005","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.491 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - 204 null null 5.2973ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.493 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - 204 null null 7.2613ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000005","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.494 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - 204 null null 7.1505ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.494 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.495 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.496 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.497 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.497 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.498 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.499 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.499 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.499 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.499 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.500 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.500 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.501 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.503 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.503 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.504 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.504 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.505 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.509 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.509 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.513 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.516 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.516 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.517 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.518 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.519 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.520 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.521 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.523 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.524 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.527 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.531 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.532 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.533 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.533 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.534 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.534 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.536 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.537 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.537 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.538 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.538 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.539 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 36.6138ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.540 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 38.9013ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.542 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.542 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.543 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.543 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 45.3703 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000006","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.543 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 46.3039 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000006","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.545 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 49.4859ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000006","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.545 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.546 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - 200 null application/json; charset=utf-8 51.2898ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.549 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.550 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.551 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.551 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.552 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 49.1991ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.553 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.554 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 56.0796 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000006","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:19.555 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 59.1082ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.054 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.054 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.055 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.055 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.056 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.056 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.2830 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000007","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.057 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.057 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.6693 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000007","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.058 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - 204 null null 4.2255ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000007","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.059 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.6244 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000007","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.060 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 204 null null 5.4592ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000007","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.061 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.061 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - 204 null null 6.0611ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000007","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.062 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.062 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.063 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.063 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.064 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.065 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.066 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.066 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.066 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.067 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.067 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.067 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.068 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.069 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.070 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.071 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.071 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.074 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.074 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.075 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.079 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.079 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.081 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.081 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.082 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.083 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.083 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.084 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.084 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.086 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.088 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.088 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.088 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.089 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.090 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.091 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.093 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.094 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.094 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.096 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 0 categories found {"StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.096 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 0 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.097 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 0 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.098 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.099 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.099 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.100 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 32.6762ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.100 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 32.1591ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.101 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 32.2192ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.101 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.102 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.102 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.105 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 42.6260 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000008","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.105 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 41.9950 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000008","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.106 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 40.7433 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000008","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.106 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - 200 null application/json; charset=utf-8 45.6251ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000008","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.107 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 44.9651ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000008","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:26.107 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 44.4764ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000008","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.487 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.487 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.487 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.487 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.488 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.489 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.489 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.8077 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000009","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.2672 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000009","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.2162 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000009","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.491 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - 204 null null 4.0388ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000009","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.491 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - 204 null null 4.1024ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000009","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.492 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - 204 null null 5.2848ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000009","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.494 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.495 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.495 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.495 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.496 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.497 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.497 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.498 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.498 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.499 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.500 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.500 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.501 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.502 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.502 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.503 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.504 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.505 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.508 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.508 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.511 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.515 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.516 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.517 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.518 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.518 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.519 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.519 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.520 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.521 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.522 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.525 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.525 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.525 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.526 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.527 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.527 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.530 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.531 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.532 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.532 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.533 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.534 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.536 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.536 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.537 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.537 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.538 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.538 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 37.4186ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.539 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 37.318ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.539 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 37.3531ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.540 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.541 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.542 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.542 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 46.7726 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:0000000A","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.543 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 46.6699 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:0000000A","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.543 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 46.3727 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:0000000A","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.552 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - 200 null application/json; charset=utf-8 54.7032ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000A","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.572 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 77.9078ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000A","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:31.574 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 78.5412ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000A","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.269 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.270 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000B","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.270 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.271 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.271 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000B","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.271 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.1773 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:0000000B","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.272 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.272 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.2571 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:0000000B","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.273 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - 204 null null 3.6866ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000B","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.273 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.4160 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:0000000B","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.274 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 204 null null 3.5333ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000B","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.275 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.276 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - 204 null null 5.3224ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000B","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.277 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.278 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.279 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.279 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.280 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.280 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.282 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.282 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.283 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.284 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.284 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.285 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.286 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.288 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.289 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-07-07T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.290 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.291 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.296 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.298 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.301 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.304 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.304 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.305 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.306 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.307 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.308 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.309 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.310 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.313 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.314 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.313 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/7/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.315 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.316 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.318 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.318 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.319 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.320 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for category breakdown, returning empty list {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.321 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: No expenses found for time-based report, returning empty list {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.322 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 0 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.323 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 0 categories found {"StartDate":"2025-07-07T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/07/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.325 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 0 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.326 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 0 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.326 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.327 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.327 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 0 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.328 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 44.4999ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.330 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 42.5194ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.330 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 0 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.331 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.331 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.332 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.332 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 54.7098 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:0000000C","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.333 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 53.7171 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:0000000C","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.333 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 44.9926ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.334 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-07&endDate=2025-07-14&username=testuser@example.com - 200 null application/json; charset=utf-8 58.3757ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000C","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.336 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-07-07&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 58.5442ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000C","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.337 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.339 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 58.5800 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:0000000C","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:32.340 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-07&endDate=2025-07-14&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 61.2976ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000C","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.528 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.529 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.529 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.529 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.530 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.530 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.531 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.532 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.532 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.532 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.533 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.533 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.535 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.535 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.536 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-06-30T00:00:00.0000000" to "2025-07-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.536 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.537 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.537 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.540 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.542 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.543 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.544 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.545 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.546 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.546 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.547 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.548 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.548 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.549 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.549 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=6/30/2025 12:00:00 AM +05:30-7/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.552 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.553 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.554 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.554 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.555 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.555 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 15 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.556 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.558 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.558 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 10 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.559 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.560 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.560 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.561 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-06-30T00:00:00.0000000","EndDate":"2025-07-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 06/30/2025 00:00:00 to 07/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.561 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.562 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.564 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.564 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.565 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.565 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 30.4343ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.566 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 30.4655ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.566 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 30.5497ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.567 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.567 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.567 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.568 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 38.4886 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:0000000D","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.569 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 39.2405 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:0000000D","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.570 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 39.4441 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:0000000D","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.571 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-06-30&endDate=2025-07-30&username=testuser@example.com - 200 null application/json; charset=utf-8 42.1429ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000D","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.571 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-06-30&endDate=2025-07-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 42.7073ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000D","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:35.572 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-06-30&endDate=2025-07-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 42.9425ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000D","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.203 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.203 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.204 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.204 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.204 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.204 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.8820 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:0000000E","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.205 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.205 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.3650 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:0000000E","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.206 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - 204 null null 3.7479ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000E","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.207 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.8341 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:0000000E","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.209 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 204 null null 5.682ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000E","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.210 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.210 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - 204 null null 6.5866ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000E","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.211 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.212 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.212 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.213 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.214 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.215 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.215 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.215 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.216 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.217 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.216 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.217 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.218 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.221 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.222 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2025-04-15T00:00:00.0000000" to "2025-07-14T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.223 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.223 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.224 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.226 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.226 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.229 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.230 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.230 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.231 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.231 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.233 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.234 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.234 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.235 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=4/15/2025 12:00:00 AM +05:30-7/14/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.236 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.237 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.237 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.239 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.240 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.241 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 19 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.241 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.242 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.242 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 13 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.243 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.245 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.246 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.247 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2025-04-15T00:00:00.0000000","EndDate":"2025-07-14T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 04/15/2025 00:00:00 to 07/14/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.247 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.248 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.248 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.249 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.250 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.251 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 34.2739ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.252 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 31.0149ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.252 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 30.6781ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.253 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.253 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.253 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.254 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 42.2372 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:0000000F","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.255 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 42.1001 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:0000000F","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.256 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 41.1972 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:0000000F","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.256 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-04-15&endDate=2025-07-14&username=testuser@example.com - 200 null application/json; charset=utf-8 46.7647ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:0000000F","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.257 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2025-04-15&endDate=2025-07-14&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 45.9814ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:0000000F","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:38.258 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-04-15&endDate=2025-07-14&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 45.4028ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:0000000F","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.623 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.624 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000010","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.624 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.624 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.625 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000010","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.626 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.626 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.9050 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000010","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.626 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/time-based responded 204 in 1.7743 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JT:00000010","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.627 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.1600 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JU:00000010","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.627 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 204 null null 4.3662ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000010","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.628 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 204 null null 4.5105ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000010","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.630 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 204 null null 5.598ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000010","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.630 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.631 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.632 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.632 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.633 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.633 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.634 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.634 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.635 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.636 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.636 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.637 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.638 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.638 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.639 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.639 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.639 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.640 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.644 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.644 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.649 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.650 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.650 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.651 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.652 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.652 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.654 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.655 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.655 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.657 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.657 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.657 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.660 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.661 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.662 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.662 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.663 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.665 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.666 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.666 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.667 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.668 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.668 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.669 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.669 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 31.6756ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.671 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 32.7945ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.671 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.672 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.672 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.673 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.673 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 40.7348 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000011","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.673 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 40.6590 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000011","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.674 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 35.4113ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.674 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 43.9071ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000011","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.675 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 43.7285ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000011","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.677 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.680 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 46.7607 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000011","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:39.681 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 49.6438ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000011","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.592 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.592 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.593 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.593 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.593 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.594 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.594 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.595 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.595 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.596 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.597 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTimeBasedReport", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto]]] GetTimeBasedReport(System.DateTime, System.DateTime, System.String, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.599 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.599 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.600 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" grouped by month {"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.600 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user testuser@example.com from "2024-12-31T00:00:00.0000000" to "2025-12-30T00:00:00.0000000" with limit 10 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.601 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.601 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting time-based report generation grouped by month {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.603 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 10 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.605 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.606 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.606 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.610 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.611 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.611 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.611 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.612 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.614 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.615 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.647 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.652 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.652 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=12/31/2024 12:00:00 AM +05:30-12/30/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.655 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.656 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.657 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.657 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.657 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.658 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses for time-based analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.672 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 21 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.672 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 7 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.673 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated time-based report with 2 time periods for user testuser@example.com {"RequestingUser":"testuser@example.com","GroupBy":"month","CurrentUser":"testuser@example.com","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month","TimeBasedReport for testuser@example.com targeting testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.674 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 15 expenses, selecting top 10 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.675 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 7 categories found {"StartDate":"2024-12-31T00:00:00.0000000","EndDate":"2025-12-30T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 12/31/2024 00:00:00 to 12/30/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.675 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Time-based report generated successfully for user testuser@example.com by testuser@example.com - 2 time periods found {"GroupBy":"month","ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Scope":["TimeBasedReport by testuser@example.com for testuser@example.com grouped by month"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.676 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 10 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":10,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10","TopExpenses for testuser@example.com targeting testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.676 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.677 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TimeBasedReportDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3f4d0a0f-f80e-4e09-802e-b41cd71e0d72","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.679 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 10 expenses returned {"Limit":10,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 10"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.680 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 81.6102ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.680 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem) in 80.7648ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.681 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.681 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.682 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTimeBasedReport (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.682 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 82.3196ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.683 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 90.2979 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000012","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.683 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/time-based responded 200 in 90.3180 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JT:00000012","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.685 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.685 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2024-12-31&endDate=2025-12-30&username=testuser@example.com - 200 null application/json; charset=utf-8 93.5916ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000012","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.686 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/time-based?startDate=2024-12-31&endDate=2025-12-30&groupBy=month&username=testuser@example.com - 200 null application/json; charset=utf-8 93.8301ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JT:00000012","RequestPath":"/api/reports/time-based","ConnectionId":"0HNE2NCRKD3JT","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.687 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 92.2646 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JU:00000012","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:41.688 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2024-12-31&endDate=2025-12-30&limit=10&username=testuser@example.com - 200 null application/json; charset=utf-8 95.2352ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JU:00000012","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3JU","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.478 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.479 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.480 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.9084 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JS:00000013","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.481 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.8265ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000013","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.483 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.484 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.485 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.486 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.487 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.488 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.490 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.492 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.492 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.493 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.494 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.494 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.495 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.496 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.496 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.497 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.497 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.498 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.500 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.500 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.503 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 16.2105ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.504 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.505 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 20.6690 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JS:00000014","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:38:43.506 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 22.4194ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JS:00000014","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JS","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.426 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.427 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.429 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.429 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.439 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 9.5229 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K0:00000001","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.439 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 10.2327 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:00000001","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.446 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 18.8593ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K0:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.447 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 21.3962ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.450 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.458 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.460 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.461 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.461 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.462 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.462 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.463 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.465 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.465 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.467 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.468 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.508 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.508 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.548 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.552 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.554 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.558 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.561 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.564 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.580 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.580 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.591 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.592 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.594 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.593 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.596 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.600 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.601 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.602 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.604 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.605 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.607 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 142.3348ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.608 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 144.8282ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.609 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.610 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.612 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 150.9803 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:00000002","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.613 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 154.7689 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K0:00000002","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.614 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 154.4446ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:21.615 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 164.9839ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K0:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.202 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.203 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.203 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.204 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.205 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.206 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.206 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.207 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.207 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.209 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.210 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.211 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.224 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.224 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.227 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.228 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.228 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.229 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.231 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.231 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.233 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.233 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.234 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.237 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.237 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.237 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.238 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.239 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.239 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.241 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.242 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.242 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 32.5211ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.243 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.243 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.244 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 36.8857ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.244 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 39.4544 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K0:00000003","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.245 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.246 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 43.1475ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K0:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K0","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.247 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 43.7099 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:00000003","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:26.248 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 45.8172ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.172 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.174 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.177 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 2.1821 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:00000004","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.182 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 9.5345ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.185 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.186 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.188 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.189 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.191 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.192 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.196 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.199 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.200 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.200 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.201 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.202 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.203 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.205 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.206 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.207 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.209 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.210 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.211 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.212 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.216 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 25.2321ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.216 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.217 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 30.8343 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:00000005","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:27.218 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 33.0476ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000005","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.939 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.940 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.941 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.5156 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:00000006","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.941 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 1.7796ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.943 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundary8J6mI0pmw5yEQ8m9 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.943 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.944 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.945 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.947 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.949 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.951 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.952 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.956 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.958 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.959 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.959 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.960 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.960 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 14.6631ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.961 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.962 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 18.7899 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:00000007","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.963 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 20.058ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000007","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.966 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.967 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.968 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.0458 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:00000008","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.969 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.3167ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.971 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.972 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.973 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.973 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.974 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.975 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.978 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.980 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.981 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.982 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.982 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.983 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.985 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.986 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.987 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.987 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.988 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.990 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.991 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.992 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.996 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 22.3855ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.997 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.998 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 25.4753 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:00000009","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:33.998 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 27.0154ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:00000009","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.297 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.298 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.298 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.4340 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:0000000A","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.299 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 1.8783ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.300 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundary2MfYRra7Bt2OnMek 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.301 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.302 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.302 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.304 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.306 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.307 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.309 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.324 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.325 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.326 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.327 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.327 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.328 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 24.4136ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.328 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.329 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 28.3102 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:0000000B","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.330 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 29.9441ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:0000000B","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.333 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.334 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.335 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.5409 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3JV:0000000C","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.336 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.5265ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.339 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.339 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.341 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.341 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.342 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.343 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.346 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.348 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.349 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.349 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.350 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.350 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.351 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.353 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.354 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.354 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.355 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.356 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.356 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.357 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.360 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 18.2569ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.361 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.361 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 22.0071 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3JV:0000000D","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:45:40.362 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 23.617ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3JV:0000000D","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3JV","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.681 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.681 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.683 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 2.1595 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K2:00000001","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.684 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.4957 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000001","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.685 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 5.9691ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K2:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.687 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 7.8838ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.688 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.690 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.690 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.691 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.692 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.692 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.692 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.692 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.693 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.694 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.695 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.695 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.698 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.699 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.705 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.707 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.708 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.709 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.709 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.713 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.714 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.715 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.715 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.716 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.717 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.718 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.719 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.719 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.720 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.720 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.721 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.722 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 28.3589ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.722 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 28.9314ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.723 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.724 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.724 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 33.1729 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000002","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.724 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 34.0383 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K2:00000002","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.725 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 34.7176ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:20.726 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 37.4173ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K2:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K2","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.254 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.255 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.256 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 1.3098 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000003","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.257 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.4739ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.264 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.265 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.266 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.266 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.267 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.268 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.304 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.307 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.308 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.309 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.310 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.311 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.311 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.312 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.313 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.314 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.317 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.318 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.319 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.320 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.323 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 56.8809ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.324 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.325 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 59.9116 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000004","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:23.325 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 61.3254ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.901 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000005","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.902 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000005","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.902 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.4328 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000005","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.903 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 1.8888ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000005","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.904 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundaryb7jlfuvDGi8EONFw 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.905 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.906 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.907 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.908 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.911 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.913 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.914 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.933 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.936 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.937 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.937 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.938 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.939 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 31.3929ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.939 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.940 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 34.9767 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000006","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.941 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 36.2849ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000006","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.946 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.947 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.949 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.949 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.951 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.953 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.955 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.956 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.957 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.957 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.958 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.959 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.959 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.960 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.961 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.962 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.963 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.964 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.965 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.967 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 17.2199ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.968 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.968 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 21.3607 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000007","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:27.969 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 23.0227ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.076 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000008","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.076 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000008","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.077 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.4130 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000008","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.077 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 1.5505ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000008","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.079 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundaryTTcKrHX53TDyS7oj 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.079 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.080 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.080 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.082 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.084 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.086 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.087 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.090 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.093 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.093 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.094 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.094 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.095 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 14.0464ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.096 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.097 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 17.4618 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000009","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.098 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 18.9868ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.101 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.102 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.103 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.6154 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:0000000A","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.104 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.3374ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000A","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.106 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.106 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.107 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.109 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.110 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.111 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.113 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.116 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.116 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.117 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.118 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.119 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.119 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.120 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.120 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.121 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.122 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.122 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.123 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.124 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.127 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 17.7928ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.128 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.129 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 22.3884 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:0000000B","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:35.130 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 24.0215ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.628 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000C","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.629 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000C","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.630 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/add responded 204 in 0.5428 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:0000000C","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.630 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/add - 204 null null 2.3978ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000C","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.632 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5295/api/expenses/add - multipart/form-data; boundary=----WebKitFormBoundaryZVpIEFc4UgB4FLtg 445 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.632 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.633 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.634 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "AddExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] AddExpense(ExpenseTrackingSystem.Models.DTOs.ExpenseAddRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.635 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Add expense request from user testuser@example.com for target null with amount 799, category Food & Dining, and expense date current {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.636 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense creation for user testuser@example.com with amount 799, category Food & Dining, and expense date null {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.639 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":799,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.642 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Setting expense date to "2025-07-14T10:20:59.6422770+00:00" for expense by user testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":799,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.644 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Decimal), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Id", "Amount", "Category", "CreatedAt", "CreatedBy", "Notes", "Title", "UpdatedAt", "UpdatedBy", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":799,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.647 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p10='?', @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = DateTime), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "IsDeleted" = @p2, "Password" = @p3, "Phone" = @p4, "RefreshToken" = @p5, "RefreshTokenExpiryTime" = @p6, "Role" = @p7, "UpdatedAt" = @p8, "UpdatedBy" = @p9
WHERE "Username" = @p10; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":799,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.649 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","Amount":799,"ExpenseDate":null,"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.650 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully created expense "01980873-bd7b-7f79-8f4e-77cb6506909d" for user testuser@example.com with amount 799 on date "2025-07-14T10:20:59.6422770+00:00" {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.651 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully added expense "01980873-bd7b-7f79-8f4e-77cb6506909d" for user testuser@example.com with amount 799 on date 2025-07-14 by testuser@example.com {"CurrentUser":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Scope":["AddExpense by testuser@example.com for testuser@example.com amount 799 date (null)"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.652 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a7972745-d467-4d00-86c6-e0d6be4e6885","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.653 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem) in 18.1248ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.653 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.AddExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.654 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/expenses/add responded 200 in 21.4130 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":445,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:0000000D","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.655 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5295/api/expenses/add - 200 null application/json; charset=utf-8 22.6861ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000D","RequestPath":"/api/expenses/add","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.659 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.659 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.660 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.4193 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:0000000E","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.661 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.236ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000E","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.663 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.663 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.664 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.664 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.666 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.667 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.684 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.686 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 16 expenses for user testuser@example.com on page 1 (Total user expenses: 16) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.687 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.688 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 16 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.688 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980873-bd7b-7f79-8f4e-77cb6506909d" 'Cake': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.689 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.690 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.691 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.692 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.692 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.693 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.693 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.694 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 16 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.695 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.707 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 41.4267ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.707 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.708 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 44.5750 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:0000000F","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:50:59.708 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 45.7442ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:0000000F","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.489 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000010","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.489 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000010","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.490 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d responded 204 in 0.4285 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000010","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.490 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d - 204 null null 1.778ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000010","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.492 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 DELETE http://localhost:5295/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.492 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.493 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.497 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] DeleteExpense(System.Guid) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.500 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Delete expense request for expense "01980873-bd7b-7f79-8f4e-77cb6506909d" by user testuser@example.com {"ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.501 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980873-bd7b-7f79-8f4e-77cb6506909d","Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.502 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Authorized deletion of expense "01980873-bd7b-7f79-8f4e-77cb6506909d" 'Cake' (Amount: 799) owned by testuser@example.com deleted by testuser@example.com {"ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.504 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense deletion for expense "01980873-bd7b-7f79-8f4e-77cb6506909d" by user testuser@example.com {"Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.505 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980873-bd7b-7f79-8f4e-77cb6506909d","Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.506 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found expense "01980873-bd7b-7f79-8f4e-77cb6506909d" titled 'Cake' owned by testuser@example.com, deleting... {"Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.508 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980873-bd7b-7f79-8f4e-77cb6506909d","Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.510 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980873-bd7b-7f79-8f4e-77cb6506909d","Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.533 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Expenses"
WHERE "Id" = @p0; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980873-bd7b-7f79-8f4e-77cb6506909d","Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.538 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully deleted expense "01980873-bd7b-7f79-8f4e-77cb6506909d" titled 'Cake' by user testuser@example.com {"Username":"testuser@example.com","ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.539 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully deleted expense "01980873-bd7b-7f79-8f4e-77cb6506909d" by user testuser@example.com {"ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Scope":["DeleteExpense 01980873-bd7b-7f79-8f4e-77cb6506909d by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.539 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"829070e6-68cc-4e89-a993-36dabd7dbfb6","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.540 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem) in 41.7478ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.540 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.DeleteExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.540 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP DELETE /api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d responded 200 in 47.9519 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000011","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.541 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 DELETE http://localhost:5295/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d - 200 null application/json; charset=utf-8 48.9488ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000011","RequestPath":"/api/expenses/delete/01980873-bd7b-7f79-8f4e-77cb6506909d","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.543 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.544 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.545 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.546 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.546 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.547 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.548 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.550 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.551 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.551 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.552 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.552 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.553 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.553 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.553 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.554 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.554 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.556 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.557 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.558 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.560 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 14.1144ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.561 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.562 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 17.4216 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000012","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:04.562 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 19.3437ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000012","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.127 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000013","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.128 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000013","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.129 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 1.0842 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000013","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.130 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 3.7205ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000013","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.135 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundaryGP0qcnMi1z1bb87F 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.137 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.137 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.138 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.139 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.153 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.156 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.158 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.162 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.165 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.166 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.167 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.168 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.169 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 29.8225ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.170 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.171 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 34.7851 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000014","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.174 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 39.3246ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000014","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.188 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000015","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.189 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000015","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.190 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7543 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K1:00000015","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.192 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.056ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000015","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.194 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.197 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.198 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.199 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.200 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.201 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.205 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.209 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.209 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.210 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.212 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.214 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.214 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.215 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.218 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.219 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.219 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.220 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.221 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.222 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.229 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 29.2304ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.229 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.230 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 33.1152 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K1:00000016","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:51:40.231 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 36.6506ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K1:00000016","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K1","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.523 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.523 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.525 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.525 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.7037 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K3:00000001","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.526 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 1.4318 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K4:00000001","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.527 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.819ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K3:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.528 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 4.8639ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K4:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.534 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.536 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.534 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.537 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.539 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.539 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.542 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.543 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.544 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.545 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.549 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.550 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.609 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.609 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.620 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.620 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.621 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.623 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.624 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.624 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.642 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.643 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.644 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.647 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.648 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.649 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.651 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.652 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.656 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.653 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.658 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 110.1027ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.658 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.660 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.659 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.662 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 123.9289 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K4:00000002","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.661 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 121.0467ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.664 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 129.895ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K4:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K4","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.667 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.669 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 133.2608 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K3:00000002","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:49.671 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 137.1232ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K3:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.972 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K3:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.972 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K3:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.973 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.4550 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K3:00000003","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.973 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.1896ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K3:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.975 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.976 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.976 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.977 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.978 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.979 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.991 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.994 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.995 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.996 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.996 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.997 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.997 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.999 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:51.999 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.000 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.000 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.001 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.002 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.002 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.006 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 27.906ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.007 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.007 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 31.4284 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K3:00000004","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:55:52.008 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 32.631ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K3:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K3","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.222 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K5:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.223 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K5:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.225 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 1.2075 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K5:00000001","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.226 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 4.2103ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K5:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.228 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundaryLgbGBAI5Vppha20R 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.230 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.231 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.232 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.234 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.242 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.243 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.245 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.249 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.251 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.252 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.252 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.252 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.254 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 22.071ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.255 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.256 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 26.9555 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K5:00000002","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.257 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 28.7872ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K5:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.279 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K5:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.280 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K5:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.280 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.4092 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K5:00000003","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.281 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 1.5092ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K5:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.282 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.283 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.283 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.284 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.285 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.286 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.293 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.295 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.297 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.298 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.299 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.300 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.300 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.301 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.302 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.302 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.303 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.304 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.305 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.306 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.312 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 26.4497ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.313 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.313 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 30.6626 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K5:00000004","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 15:57:06.315 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 32.3252ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K5:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K5","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:33.993 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K6:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:33.996 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K6:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:33.997 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.6815 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K6:00000001","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:33.999 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 4.9075ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K6:00000001","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.014 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundarybnfF1IGju225JZEY 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.015 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.016 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.017 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.019 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.109 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.111 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.113 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.121 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.130 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.131 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.132 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.132 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.133 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 115.5092ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.134 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.134 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 119.3377 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K6:00000002","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.135 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 121.624ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K6:00000002","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.147 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K6:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.148 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K6:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.149 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7624 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K6:00000003","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.150 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.408ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K6:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.152 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.153 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.156 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.156 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.157 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.158 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.162 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.167 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.167 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.169 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.171 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.172 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.173 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.174 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.175 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.176 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.177 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.178 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.180 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.180 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.185 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 28.1739ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.186 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.187 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 33.8637 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K6:00000004","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:02:34.188 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 35.9711ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K6:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K6","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.867 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.869 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.870 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.871 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.872 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 2.2975 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:00000001","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.873 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 2.0957 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K8:00000001","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.875 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 8.0489ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000001","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.875 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 6.1747ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000001","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.878 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.879 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.880 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.881 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.882 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.882 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.883 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.883 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.885 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.885 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.887 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.888 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.937 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.937 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.950 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.951 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.951 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.952 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.953 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.954 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.973 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.974 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.975 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.977 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.977 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.979 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.981 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.981 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.981 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.982 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.983 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.983 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.984 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 99.8589ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.985 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 100.8091ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.986 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.986 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.987 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 107.4735 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:00000002","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.987 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 106.6263 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K8:00000002","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.988 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 109.8558ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000002","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:07.988 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 109.7644ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000002","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.973 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.975 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.976 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 0.8382 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:00000003","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.978 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 4.7779ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000003","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.978 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.980 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.981 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.981 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8640 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K8:00000003","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.982 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.982 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 4.5123ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000003","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.983 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.985 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.985 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.986 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.986 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.987 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.988 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.988 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.992 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.992 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.994 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:46.999 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.005 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.006 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.007 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.009 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.009 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.010 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.014 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.015 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.016 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.018 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.018 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.020 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.021 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.022 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.026 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.024 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.027 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.028 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 42.0652ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.031 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.031 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 49.7455 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:00000004","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.027 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.032 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 51.7966ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000004","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.033 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 42.2108ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.035 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.036 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 50.3668 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K8:00000004","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:53:47.037 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 52.3679ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000004","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.237 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.239 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.239 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.240 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.240 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/category-breakdown responded 204 in 1.0189 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:00000005","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.241 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/reports/top-expenses responded 204 in 0.8377 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K8:00000005","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.241 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 204 null null 3.9029ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000005","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.242 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 204 null null 3.0986ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000005","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.245 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.246 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.247 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.248 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.249 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.249 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.250 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetCategoryBreakdown", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto]]] GetCategoryBreakdown(System.DateTime, System.DateTime, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.250 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTopExpenses", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto]]] GetTopExpenses(System.DateTime, System.DateTime, Int32, System.String) on controller ExpenseTrackingSystem.Controllers.ReportsController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.252 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" {"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.252 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report requested by testuser@example.com for user null from "2025-07-01T00:00:00.0000000" to "2025-07-31T00:00:00.0000000" with limit 3 {"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.252 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting category breakdown report generation {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.253 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Starting top expenses report generation with limit 3 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.262 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.266 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Username", u0."CreatedAt", u0."CreatedBy", u0."IsDeleted", u0."Password", u0."Phone", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."Role", u0."UpdatedAt", u0."UpdatedBy", s."Id", s."Amount", s."Category", s."CreatedAt", s."CreatedBy", s."Notes", s."Title", s."UpdatedAt", s."UpdatedBy", s."Username", s."Id0", s."Category0", s."CreatedAt0", s."CreatedBy0", s."ExpenseId", s."FilePath", s."ReceiptName", s."UpdatedAt0", s."UpdatedBy0", s."Username0", r0."Id", r0."Category", r0."CreatedAt", r0."CreatedBy", r0."ExpenseId", r0."FilePath", r0."ReceiptName", r0."UpdatedAt", r0."UpdatedBy", r0."Username"
FROM (
    SELECT u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy"
    FROM "Users" AS u
    WHERE u."Username" = @__key_0
    LIMIT 2
) AS u0
LEFT JOIN (
    SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", r."Id" AS "Id0", r."Category" AS "Category0", r."CreatedAt" AS "CreatedAt0", r."CreatedBy" AS "CreatedBy0", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt" AS "UpdatedAt0", r."UpdatedBy" AS "UpdatedBy0", r."Username" AS "Username0"
    FROM "Expenses" AS e
    LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
) AS s ON u0."Username" = s."Username"
LEFT JOIN "Receipts" AS r0 ON u0."Username" = r0."Username"
ORDER BY u0."Username", s."Id", s."Id0" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.275 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.277 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.278 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.279 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.280 +05:30 WRN] ExpenseTrackingSystem.Services.ExpenseService: SearchExpense called without user filtering - this should only be used for admin operations {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.282 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense search with criteria: Title=null, Category=null, AmountRange=None, DateRange=7/1/2025 12:00:00 AM +05:30-7/31/2025 12:00:00 AM +05:30 {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.283 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.285 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.285 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.288 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Search completed, returning 13 expenses out of 21 total {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.289 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses, selecting top 3 by amount {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.290 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Found 8 expenses for category breakdown analysis {"RequestingUser":"testuser@example.com","TargetUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.292 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated top expenses report with 3 expenses for user testuser@example.com {"RequestingUser":"testuser@example.com","Limit":3,"CurrentUser":"testuser@example.com","ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3","TopExpenses for testuser@example.com targeting testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.296 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Top expenses report generated successfully for user testuser@example.com by testuser@example.com - 3 expenses returned {"Limit":3,"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Scope":["TopExpensesReport by testuser@example.com for testuser@example.com limit 3"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.300 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.TopExpenseDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3ac86013-0425-4305-b80d-2616bf44e5a7","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.295 +05:30 INF] ExpenseTrackingSystem.Services.ReportService: Successfully generated category breakdown with 5 categories for user testuser@example.com {"RequestingUser":"testuser@example.com","StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","CurrentUser":"testuser@example.com","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00","CategoryBreakdown for testuser@example.com targeting testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.301 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem) in 49.4387ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.302 +05:30 INF] ExpenseTrackingSystem.Controllers.ReportsController: Category breakdown report generated successfully for user testuser@example.com by testuser@example.com - 5 categories found {"StartDate":"2025-07-01T00:00:00.0000000","EndDate":"2025-07-31T00:00:00.0000000","ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Scope":["CategoryBreakdownReport by testuser@example.com for testuser@example.com from 07/01/2025 00:00:00 to 07/31/2025 00:00:00"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.305 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseTrackingSystem.Models.DTOs.CategoryBreakdownDto, ExpenseTrackingSystem, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"4542a9df-d414-4722-96b1-99b2c47bf527","ActionName":"ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.307 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem) in 56.1823ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.308 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetCategoryBreakdown (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.309 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/category-breakdown responded 200 in 61.8130 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:00000006","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.303 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ReportsController.GetTopExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.311 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/category-breakdown?startDate=2025-07-01&endDate=2025-07-31 - 200 null application/json; charset=utf-8 65.7765ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000006","RequestPath":"/api/reports/category-breakdown","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.311 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/reports/top-expenses responded 200 in 63.8157 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K8:00000006","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:16.314 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/reports/top-expenses?startDate=2025-07-01&endDate=2025-07-31&limit=3 - 200 null application/json; charset=utf-8 67.905ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K8:00000006","RequestPath":"/api/reports/top-expenses","ConnectionId":"0HNE2NCRKD3K8","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.900 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.901 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.902 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.9723 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:00000007","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.903 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.6992ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.905 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.907 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.909 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.909 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.910 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.912 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.928 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.931 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.932 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.936 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.937 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.937 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.938 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.939 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.939 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.943 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.944 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.950 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.952 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.960 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 49.4783ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.961 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.962 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 54.7890 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:00000008","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:18.962 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 57.2893ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.854 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.856 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.856 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 204 in 0.4426 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:00000009","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.857 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 204 null null 2.2401ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:00000009","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.858 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - multipart/form-data; boundary=----WebKitFormBoundaryAgxbhZrcxuzAKkKe 573 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.859 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.859 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.860 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.863 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.865 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.867 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.903 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (35ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.916 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.919 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980861-bb07-7219-b5db-fb1242dac7a3","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.921 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.924 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980861-bb07-7219-b5db-fb1242dac7a3" by user testuser@example.com, new amount: 20, new date: 2025-07-14 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Scope":["UpdateExpense 01980861-bb07-7219-b5db-fb1242dac7a3 by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.927 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.929 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 68.3093ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.930 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.932 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 responded 200 in 73.0033 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":573,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:0000000A","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.933 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3 - 200 null application/json; charset=utf-8 74.714ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:0000000A","RequestPath":"/api/expenses/update/01980861-bb07-7219-b5db-fb1242dac7a3","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.948 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.950 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.950 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7283 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K7:0000000B","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.951 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 3.1687ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:0000000B","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.954 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.955 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.956 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.957 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.961 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.962 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.964 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.968 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.969 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.970 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.971 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.972 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.973 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.974 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.976 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.977 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.978 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.979 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.980 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.982 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.988 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 28.891ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.989 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.990 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 34.7279 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K7:0000000C","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:54:24.991 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 36.9545ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K7:0000000C","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K7","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.783 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000001","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.785 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000001","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.785 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be responded 204 in 0.5955 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K9:00000001","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.786 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - 204 null null 2.9948ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000001","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.788 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - multipart/form-data; boundary=----WebKitFormBoundarynxwAer91WmDPMtK2 603 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.789 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.789 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.790 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.792 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.796 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.799 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.800 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.809 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.811 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.812 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.812 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com, new amount: 500, new date: 2025-07-06 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.813 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.813 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 23.0974ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.815 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.816 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be responded 200 in 27.7462 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":603,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K9:00000002","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.817 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - 200 null application/json; charset=utf-8 29.654ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000002","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.830 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.831 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.831 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.6643 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K9:00000003","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.832 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.9516ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000003","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.835 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.836 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.838 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.838 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.839 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.840 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.843 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.845 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.846 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.848 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.849 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.849 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.850 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.852 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.853 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.854 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.855 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.855 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.857 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.860 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 21.2955ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.862 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.862 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 25.8733 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K9:00000004","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:25.863 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 28.2062ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000004","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.633 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000005","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.633 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000005","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.634 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be responded 204 in 0.6151 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K9:00000005","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.635 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - 204 null null 1.8008ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000005","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.637 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - multipart/form-data; boundary=----WebKitFormBoundaryKXbO4uRfJA9nwPmL 603 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.638 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.639 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.640 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseTrackingSystem.Models.Expense]] UpdateExpense(System.Guid, ExpenseTrackingSystem.Models.DTOs.ExpenseUpdateRequestDto) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.642 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Update expense request for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com with new date no change {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.645 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.646 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Starting expense update for expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.649 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
WHERE e."Id" = @__key_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.657 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = Decimal), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Expenses" SET "Amount" = @p0, "Category" = @p1, "CreatedAt" = @p2, "CreatedBy" = @p3, "Notes" = @p4, "Title" = @p5, "UpdatedAt" = @p6, "UpdatedBy" = @p7, "Username" = @p8
WHERE "Id" = @p9; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.659 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "Details", "EntityId", "EntityName", "Timestamp", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ExpenseId":"01980856-d538-7731-9df8-9e3a63d2e4be","Username":"testuser@example.com","ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.660 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Successfully updated expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.660 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Successfully updated expense "01980856-d538-7731-9df8-9e3a63d2e4be" by user testuser@example.com, new amount: 500, new date: 2025-07-06 {"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Scope":["UpdateExpense 01980856-d538-7731-9df8-9e3a63d2e4be by testuser@example.com"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.661 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"44f30078-5f18-438f-bc5e-57ade9ef00c4","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.662 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem) in 20.7778ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.663 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.UpdateExpense (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.665 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP PUT /api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be responded 200 in 27.7757 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":603,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K9:00000006","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.666 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 PUT http://localhost:5295/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be - 200 null application/json; charset=utf-8 29.9123ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000006","RequestPath":"/api/expenses/update/01980856-d538-7731-9df8-9e3a63d2e4be","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.679 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null 0 {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.680 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.681 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP OPTIONS /api/expenses/all responded 204 in 0.7413 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"IsAuthenticated":false,"RequestId":"0HNE2NCRKD3K9:00000007","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.682 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 204 null null 2.6559ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000007","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.684 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - null null {"EventId":{"Id":1},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.685 +05:30 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.686 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.687 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAllExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.ICollection`1[ExpenseTrackingSystem.Models.Expense]]] GetAllExpenses(System.String, Int32, Int32) on controller ExpenseTrackingSystem.Controllers.ExpenseController (ExpenseTrackingSystem). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.688 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Get all expenses request by testuser@example.com for user null (Page: 1, Size: 100) {"TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.689 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Getting expenses for user testuser@example.com (Page: 1, Size: 100) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.695 +05:30 INF] Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Amount", e."Category", e."CreatedAt", e."CreatedBy", e."Notes", e."Title", e."UpdatedAt", e."UpdatedBy", e."Username", u."Username", u."CreatedAt", u."CreatedBy", u."IsDeleted", u."Password", u."Phone", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", u."UpdatedAt", u."UpdatedBy", r."Id", r."Category", r."CreatedAt", r."CreatedBy", r."ExpenseId", r."FilePath", r."ReceiptName", r."UpdatedAt", r."UpdatedBy", r."Username"
FROM "Expenses" AS e
INNER JOIN "Users" AS u ON e."Username" = u."Username"
LEFT JOIN "Receipts" AS r ON e."Id" = r."ExpenseId"
ORDER BY e."CreatedAt" DESC {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.699 +05:30 INF] ExpenseTrackingSystem.Services.ExpenseService: Found 15 expenses for user testuser@example.com on page 1 (Total user expenses: 15) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.700 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: === EXPENSE RECEIPT DEBUG === {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.700 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Total expenses returned for user testuser@example.com: 15 {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.701 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980861-bb07-7219-b5db-fb1242dac7a3" 'Ice cream': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.703 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980855-da8a-7642-bf3c-b53f5c85feef" 'Tattoo Consultation': HasReceipt=true, ReceiptId="01980855-db0c-7367-a0e5-7fde1e744306" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.704 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980855-da8a-7642-bf3c-b53f5c85feef_Tattoo Consultation_receipt, Category=Personal Care, Created="2025-07-14T09:48:21.0481740+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.704 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "01980856-d538-7731-9df8-9e3a63d2e4be" 'Magnolia Banana Pudding': HasReceipt=true, ReceiptId="01980856-d548-7263-90f7-e8c544d9287d" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.705 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example.com_01980856-d538-7731-9df8-9e3a63d2e4be_Magnolia Banana Pudding_receipt, Category=Food & Dining, Created="2025-07-14T09:49:25.1846150+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.706 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cff8-1ed9-7bbe-a6e2-5fbdec59a57f" 'Water bottle': HasReceipt=true, ReceiptId="019807d5-0d16-7f69-8931-fa23dfaf0a40" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.708 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController:   Receipt details: Name=testuser@example, Category=Shopping, Created="2025-07-14T07:27:39.7854730+00:00" {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.709 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Expense "0197cedd-9088-78bd-81c4-afed37617591" 'Train tickets': HasReceipt=false, ReceiptId=null {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","PageNumber":1,"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.710 +05:30 INF] ExpenseTrackingSystem.Controllers.ExpenseController: Retrieved 15 expenses for user testuser@example.com (Page 1) {"Requester":"testuser@example.com","TargetUser":"testuser@example.com","ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Scope":["GetAllExpenses by testuser@example.com for testuser@example.com page 1"],"Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.711 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'ExpenseTrackingSystem.Models.Expense[]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"384c2f2c-7f2e-4225-8972-7b33b080690a","ActionName":"ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)","RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.716 +05:30 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem) in 27.7141ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.717 +05:30 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'ExpenseTrackingSystem.Controllers.ExpenseController.GetAllExpenses (ExpenseTrackingSystem)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.718 +05:30 INF] Serilog.AspNetCore.RequestLoggingMiddleware: HTTP GET /api/expenses/all responded 200 in 33.0124 ms {"RequestHost":"localhost:5295","RequestScheme":"http","UserAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.6 Safari/605.1.15","RemoteIpAddress":"::1","RequestSize":0,"ResponseSize":0,"UserName":"testuser@example.com","IsAuthenticated":true,"RequestId":"0HNE2NCRKD3K9:00000008","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
[2025-07-14 16:55:34.719 +05:30 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5295/api/expenses/all?pageNumber=1&pageSize=100 - 200 null application/json; charset=utf-8 35.666ms {"EventId":{"Id":2},"RequestId":"0HNE2NCRKD3K9:00000008","RequestPath":"/api/expenses/all","ConnectionId":"0HNE2NCRKD3K9","Application":"ExpenseTrackingSystem","Environment":"Development","MachineName":"C02F5859MD6M-aditirajesh"}
